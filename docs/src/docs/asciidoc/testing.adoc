To write unit tests with MongoDB and Spock you can simply extend from `grails.test.mongodb.MongoSpec`.

`MongoSpec` is an abstract class that just requires you to provide an instance of a `MongoClient`. You can potentially
connect to a real MongoDB instance, or use something such as https://github.com/fakemongo/fongo[Fongo], as shown in the
following example:

[source,groovy]
----
include::{sourcedir}/examples/grails31-mongodb/src/test/groovy/functional/tests/BookUnitSpec.groovy[]
----

Note that the default implementation is to scan your classpath searching for domain classes, from the package defined
in the configuration property `grails.codegen.defaultPackage`, and all the way down its subpackages. If your application
is large, classpath scanning may be slow, so it's better to override the method `getDomainClasses()`:

[source,groovy]
----
include::{sourcedir}/examples/grails31-hibernate4-mongodb/src/test/groovy/functional/tests/BookFongoSpec.groovy[tags=getDomainClasses]
----
